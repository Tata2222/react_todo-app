{"version":3,"sources":["components/Todo.js","components/TodoList.js","components/Header.js","App.js","index.js"],"names":["Todo","id","title","completed","changeTodoStatus","deleteTodo","changeTodoValue","useState","isEdit","showTodoInput","editedTitle","changeInputValue","ref","useRef","handleClickOutside","event","current","contains","target","useEffect","document","addEventListener","removeEventListener","className","classNames","editing","type","checked","onClick","htmlFor","onDoubleClick","value","onChange","e","onKeyDown","key","newTitle","trim","TodoList","todos","map","todo","Header","initialInputValue","handleInputValue","addTodo","placeholder","onKeyPress","todosData","JSON","parse","localStorage","getItem","App","state","newTodoId","isAllTodos","isActiveTodos","isCompletedTodos","newTodo","setState","filter","item","length","deleteCompletedTodos","newId","task","chooseTypeTodos","setTypeTodos","setItem","stringify","this","href","selected","React","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5dfcb880.chunk.js","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nconst Todo = ({\n  id,\n  title,\n  completed,\n  changeTodoStatus,\n  deleteTodo,\n  changeTodoValue,\n}) => {\n  const [isEdit, showTodoInput] = useState(false);\n  const [editedTitle, changeInputValue] = useState(title);\n  /* const [isError, showErrorClass] = useState(false); */\n  const ref = useRef(null);\n\n  const handleInputValue = (e) => {\n    if (e.key === 'Escape') {\n      showTodoInput(false);\n\n      return;\n    }\n\n    if (e.key === 'Enter') {\n      const newTitle = editedTitle.trim();\n\n      if (newTitle) {\n        changeTodoValue(e, newTitle);\n        showTodoInput(false);\n      }\n    }\n  };\n\n  const handleClickOutside = (event) => {\n    if (ref.current.id && !ref.current.contains(event.target)) {\n      showTodoInput(false);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('click', handleClickOutside, true);\n\n    return () => {\n      document.removeEventListener('click', handleClickOutside, true);\n    };\n  });\n\n  return (\n    <li className={classNames({\n      editing: isEdit, completed,\n    })}\n    >\n      <div className=\"view\">\n        <input\n          type=\"checkbox\"\n          className=\"toggle\"\n          id={id}\n          checked={completed}\n          onClick={() => changeTodoStatus(id)}\n        />\n        <label\n          htmlFor={id}\n          onDoubleClick={() => showTodoInput(true)}\n        >\n          {title}\n        </label>\n        <button\n          type=\"button\"\n          id={id}\n          className=\"destroy\"\n          onClick={() => deleteTodo(id)}\n        />\n      </div>\n      <input\n        type=\"text\"\n        className=\"edit\"\n        ref={ref}\n        id={id}\n        value={editedTitle}\n        onChange={e => changeInputValue(e.target.value)}\n        onKeyDown={handleInputValue}\n      />\n    </li>\n  );\n};\n\nTodo.propTypes = {\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  completed: PropTypes.bool.isRequired,\n  changeTodoStatus: PropTypes.func.isRequired,\n  changeTodoValue: PropTypes.func.isRequired,\n  deleteTodo: PropTypes.func.isRequired,\n};\n\nexport default Todo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Todo from './Todo';\n\nconst TodoList = ({ todos, changeTodoStatus, deleteTodo, changeTodoValue }) => (\n  <>\n    <ul className=\"todo-list\">\n      {todos.map(todo => (\n        <Todo\n          {...todo}\n          key={todo.id}\n          changeTodoStatus={changeTodoStatus}\n          deleteTodo={deleteTodo}\n          changeTodoValue={changeTodoValue}\n        />\n      ))}\n    </ul>\n  </>\n);\n\nTodoList.propTypes = {\n  changeTodoStatus: PropTypes.func.isRequired,\n  deleteTask: PropTypes.func.isRequired,\n  todos: PropTypes.arrayOf.isRequired,\n  changeTodoValue: PropTypes.func.isRequired,\n  deleteTodo: PropTypes.func.isRequired,\n};\nexport default TodoList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Header = ({ initialInputValue, handleInputValue, addTodo }) => (\n  <header className=\"header\">\n    <h1>todos</h1>\n\n    <input\n      className=\"new-todo\"\n      placeholder=\"What needs to be done?\"\n      value={initialInputValue}\n      onChange={handleInputValue}\n      onKeyPress={addTodo}\n    />\n  </header>\n);\n\nHeader.propTypes = {\n  addTodo: PropTypes.func.isRequired,\n  handleInputValue: PropTypes.func.isRequired,\n  initialInputValue: PropTypes.string.isRequired,\n};\n\nexport default Header;\n","import React from 'react';\nimport classNames from 'classnames';\nimport TodoList from './components/TodoList';\nimport Header from './components/Header';\n\nconst todosData = JSON.parse(localStorage.getItem('todosData')) || [];\n\nclass App extends React.Component {\n  state={\n    todos: [...todosData],\n    newTodoId: 1,\n    initialInputValue: '',\n    isAllTodos: true,\n    isActiveTodos: false,\n    isCompletedTodos: false,\n\n  }\n\n  componentDidUpdate() {\n    localStorage.setItem('todosData', JSON.stringify([...this.state.todos]));\n  }\n\n  addTodo = (e) => {\n    if (e.key !== 'Enter') {\n      return;\n    }\n\n    const newTodo = this.state.initialInputValue.trim();\n    const { newTodoId } = this.state;\n\n    if (newTodo) {\n      const todo = {\n        id: newTodoId,\n        title: newTodo,\n        completed: false,\n      };\n\n      this.setState(state => ({\n        todos: [...state.todos, todo],\n        newTodoId: state.newTodoId + 1,\n      }));\n    }\n  }\n\n  deleteTodo = (id) => {\n    this.setState(state => ({\n      todos: state.todos.filter(todo => todo.id !== id)\n        .map(item => (\n          (item.id > id)\n            ? {\n              ...item, id: item.id - 1,\n            }\n            : item\n        )),\n      newTodoId: state.todos.length,\n    }));\n  }\n\n  deleteCompletedTodos = () => {\n    let newId = 1;\n\n    this.setState(state => ({\n      todos: state.todos\n        .filter(todo => !todo.completed)\n        .map(task => ({\n        // eslint-disable-next-line\n          ...task, id: newId++,\n        })),\n      newTodoId: state.todos.length,\n    }));\n  }\n\n  changeTodoStatus = (id) => {\n    this.setState(state => ({\n      todos: state.todos.map(todo => (\n        (todo.id === id)\n          ? {\n            ...todo, completed: !todo.completed,\n          }\n          : todo\n      )),\n    }));\n  }\n\n  changeTodoValue = (e, newTitle) => {\n    const id = +e.target.id;\n\n    this.setState(state => ({\n      todos: state.todos.map(todo => (\n        todo.id === id\n          ? {\n            ...todo, title: newTitle,\n          }\n          : todo\n      )),\n    }));\n  }\n\n  handleInputValue = (e) => {\n    const { value } = e.target;\n\n    this.setState({\n      initialInputValue: value,\n    });\n  }\n\n  chooseTypeTodos = (e) => {\n    const type = e.target.title;\n\n    switch (type) {\n      case 'all': {\n        this.setState({\n          isAllTodos: true,\n          isActiveTodos: false,\n          isCompletedTodos: false,\n        });\n        break;\n      }\n\n      case 'active': {\n        this.setState({\n          isAllTodos: false,\n          isActiveTodos: true,\n          isCompletedTodos: false,\n        });\n        break;\n      }\n\n      case 'completed': {\n        this.setState({\n          isAllTodos: false,\n          isActiveTodos: false,\n          isCompletedTodos: true,\n        });\n        break;\n      }\n\n      default: break;\n    }\n  }\n\n  setTypeTodos = (todo) => {\n    const { isActiveTodos, isCompletedTodos } = this.state;\n\n    if (isActiveTodos) {\n      return !todo.completed;\n    }\n\n    if (isCompletedTodos) {\n      return todo.completed;\n    }\n\n    return true;\n  }\n\n  render() {\n    const { todos, initialInputValue } = this.state;\n    const { isActiveTodos, isCompletedTodos, isAllTodos } = this.state;\n\n    return (\n      <section className=\"todoapp\">\n        <Header\n          initialInputValue={initialInputValue}\n          handleInputValue={this.handleInputValue}\n          addTodo={this.addTodo}\n        />\n\n        <section className=\"main\">\n          <input type=\"checkbox\" id=\"toggle-all\" className=\"toggle-all\" />\n          <label htmlFor=\"toggle-all\">Mark all as complete</label>\n\n          <TodoList\n            todos={todos.filter(this.setTypeTodos)}\n            changeTodoStatus={this.changeTodoStatus}\n            deleteTodo={this.deleteTodo}\n            changeTodoValue={this.changeTodoValue}\n          />\n        </section>\n\n        <footer className=\"footer\">\n          <span className=\"todo-count\">\n            {todos\n              .filter(todo => !todo.completed)\n              .length\n            }\n            {' '}\n            items left\n          </span>\n\n          <ul className=\"filters\">\n            <li>\n              <a\n                href=\"#/\"\n                title=\"all\"\n                className={classNames({ selected: isAllTodos })}\n                onClick={this.chooseTypeTodos}\n              >\n                All\n              </a>\n            </li>\n\n            <li>\n              <a\n                href=\"#/active\"\n                title=\"active\"\n                className={classNames({ selected: isActiveTodos })}\n                onClick={this.chooseTypeTodos}\n              >\n                Active\n              </a>\n            </li>\n\n            <li>\n              <a\n                href=\"#/completed\"\n                title=\"completed\"\n                className={classNames({ selected: isCompletedTodos })}\n                onClick={this.chooseTypeTodos}\n              >\n                Completed\n              </a>\n            </li>\n          </ul>\n\n          <button\n            type=\"button\"\n            className=\"clear-completed\"\n            onClick={this.deleteCompletedTodos}\n          >\n            Clear completed\n          </button>\n        </footer>\n      </section>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './base.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}